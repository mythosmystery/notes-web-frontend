(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4463)}])},5784:function(n,e,t){"use strict";var r=t(5893),a=t(7516);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}e.Z=function(n){return(0,r.jsxs)("div",function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){i(n,e,t[e])}))}return n}({className:"flex text-orange text-center justify-center"},n,{children:[(0,r.jsx)(a.Cw1,{size:"20",className:"mr-1"}),n.children]}))}},8090:function(n,e,t){"use strict";t.d(e,{Pq:function(){return g},YA:function(){return h},_y:function(){return x},l4:function(){return j},wu:function(){return O},u2:function(){return k},iS:function(){return _}});var r=t(210),a=t(2432);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){i(n,e,t[e])}))}return n}function s(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function u(){var n=s(["\n    mutation deleteNote($id: String!) {\n  deleteNote(id: $id) {\n    message\n  }\n}\n    "]);return u=function(){return n},n}function c(){var n=s(["\n    mutation login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return c=function(){return n},n}function l(){var n=s(["\n    mutation logout {\n  logout\n}\n    "]);return l=function(){return n},n}function d(){var n=s(["\n    mutation register($email: String!, $firstName: String!, $lastName: String!, $password: String!) {\n  register(\n    email: $email\n    firstName: $firstName\n    lastName: $lastName\n    password: $password\n  ) {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return d=function(){return n},n}function f(){var n=s(["\n    mutation updateNote($data: UpdateNoteInput!, $id: String!) {\n  updateNote(data: $data, id: $id) {\n    id\n    title\n    body\n    date\n  }\n}\n    "]);return f=function(){return n},n}function m(){var n=s(["\n    mutation writeNote($title: String!, $body: String!) {\n  writeNote(title: $title, body: $body) {\n    id\n    title\n    body\n  }\n}\n    "]);return m=function(){return n},n}function p(){var n=s(["\n    query getMe {\n  me {\n    id\n    firstName\n    lastName\n    email\n    notes {\n      id\n      title\n      body\n      date\n    }\n  }\n}\n    "]);return p=function(){return n},n}function v(){var n=s(["\n    query noteById($id: String!) {\n  getNote(id: $id) {\n    id\n    body\n    title\n    date\n  }\n}\n    "]);return v=function(){return n},n}var b=(0,r.ZP)(u());function g(){return a.Db(b)}var y=(0,r.ZP)(c());function h(){return a.Db(y)}var w=(0,r.ZP)(l());function x(){return a.Db(w)}var N=(0,r.ZP)(d());function j(){return a.Db(N)}var P=(0,r.ZP)(f());function O(){return a.Db(P)}var S=(0,r.ZP)(m());function k(){return a.Db(S)}var $=(0,r.ZP)(p());function _(n){var e=void 0===n?{}:n;return a.aM(o({query:$},e))}(0,r.ZP)(v())},4463:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(5893),a=t(9008),i=(t(7294),t(5666)),o=t.n(i),s=t(2175),u=t(387),c=t(8090);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var d=function(n){return(0,r.jsx)("input",function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){l(n,e,t[e])}))}return n}({className:"my-1 bg-transparent border-transparent dark:text-foreground focus:border-transparent focus:ring-transparent active:bg-transparent"},n))},f=t(5784);function m(n,e,t,r,a,i,o){try{var s=n[i](o),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,a)}function p(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!e||t.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(){var n,e=(0,u.useRouter)(),t=p((0,c.YA)(),2)[1],a=(n=o().mark((function n(r,a){var i,s,u,c=a.setSubmitting,l=a.setErrors;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t(r);case 3:u=n.sent,(null===(i=u.data)||void 0===i?void 0:i.login)&&(c(!1),e.push("/notes")),(null===(s=u.data)||void 0===s?void 0:s.login)||l({password:"Incorrect email or password"});case 6:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){m(i,r,a,o,s,"next",n)}function s(n){m(i,r,a,o,s,"throw",n)}o(void 0)}))});return(0,r.jsx)(s.J9,{initialValues:{email:"",password:""},onSubmit:a,children:function(n){var e=n.isSubmitting;return(0,r.jsx)(s.l0,{children:(0,r.jsxs)("div",{className:"flex flex-col dark:bg-background-secondary bg-white shadow-md p-2",children:[(0,r.jsx)(s.gN,{as:d,type:"email",name:"email",placeholder:"email..."}),(0,r.jsx)(s.gN,{as:d,type:"password",name:"password",placeholder:"password..."}),(0,r.jsx)(s.Bc,{component:f.Z,name:"password"}),(0,r.jsx)("button",{type:"submit",disabled:e,className:"p-1 disabled:cursor-wait dark:disabled:hover:text-disabled dark:hover:text-accent hover:text-background dark:text-foreground text-lg ",children:"Login"})]})})}})};function b(n,e,t,r,a,i,o){try{var s=n[i](o),u=s.value}catch(c){return void t(c)}s.done?e(u):Promise.resolve(u).then(r,a)}function g(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!e||t.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=function(){var n,e=g((0,c.l4)(),2)[1],t=(0,u.useRouter)(),a=(n=o().mark((function n(r,a){var i,s,u=a.setSubmitting,c=a.setErrors;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,e({email:r.email,firstName:r.firstName,lastName:r.firstName,password:r.password});case 3:s=n.sent,(null===(i=s.data)||void 0===i?void 0:i.register)?(t.push("/notes"),u(!1)):c({email:"Account already exists, please log in"});case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){b(i,r,a,o,s,"next",n)}function s(n){b(i,r,a,o,s,"throw",n)}o(void 0)}))});return(0,r.jsx)(s.J9,{initialValues:{email:"",firstName:"",lastName:"",password:"",confirmPassword:""},onSubmit:a,validate:function(n){var e={};return n.password!=n.confirmPassword&&(e.confirmPassword="passwords must match"),e},validateOnChange:!0,children:function(n){var e=n.isSubmitting,t=n.isValid;return(0,r.jsx)(s.l0,{children:(0,r.jsxs)("div",{className:"flex flex-col dark:bg-background-secondary bg-white shadow-md p-2",children:[(0,r.jsx)(s.gN,{as:d,type:"email",name:"email",placeholder:"email..."}),(0,r.jsx)(s.Bc,{component:f.Z,name:"email"}),(0,r.jsx)(s.gN,{as:d,type:"text",name:"firstName",placeholder:"first name..."}),(0,r.jsx)(s.gN,{as:d,type:"text",name:"lastName",placeholder:"last name..."}),(0,r.jsx)(s.gN,{as:d,type:"password",name:"password",placeholder:"password..."}),(0,r.jsx)(s.gN,{as:d,type:"password",name:"confirmPassword",placeholder:"confirm password..."}),(0,r.jsx)(s.Bc,{name:"confirmPassword",component:f.Z}),(0,r.jsx)("button",{type:"submit",disabled:e||!t,className:"p-1 disabled:cursor-wait dark:disabled:hover:text-disabled disabled:hover:text-disabled dark:hover:text-accent hover:text-background dark:text-foreground text-lg ",children:"Register"})]})})}})},h=function(){return(0,r.jsxs)("div",{className:"h-screen",children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Login or Sign Up"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"text-center dark:text-foreground pt-16",children:[(0,r.jsx)("h1",{className:"text-4xl",children:"Welcome to TypeNotes"}),(0,r.jsx)("h2",{className:"text-lg my-4",children:"Register or Login to begin!"})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-center gap-12 py-8",children:[(0,r.jsx)(v,{}),(0,r.jsx)(y,{})]})]})}}},function(n){n.O(0,[874,159,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);