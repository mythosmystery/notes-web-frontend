(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4463)}])},5784:function(e,n,t){"use strict";var r=t(5893),a=t(7516);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){return(0,r.jsxs)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({className:"flex text-orange text-center justify-center"},e,{children:[(0,r.jsx)(a.Cw1,{size:"20",className:"mr-1"}),e.children]}))}},8090:function(e,n,t){"use strict";t.d(n,{Pq:function(){return x},YA:function(){return y},_y:function(){return w},l4:function(){return N},wu:function(){return O},u2:function(){return k},iS:function(){return E}});var r=t(1230),a=t(2432);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}function s(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function u(){var e=s(["\n    mutation deleteNote($id: String!) {\n  deleteNote(id: $id) {\n    message\n  }\n}\n    "]);return u=function(){return e},e}function c(){var e=s(["\n    mutation login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return c=function(){return e},e}function l(){var e=s(["\n    mutation logout {\n  logout\n}\n    "]);return l=function(){return e},e}function d(){var e=s(["\n    mutation register($email: String!, $firstName: String!, $lastName: String!, $password: String!) {\n  register(\n    email: $email\n    firstName: $firstName\n    lastName: $lastName\n    password: $password\n  ) {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return d=function(){return e},e}function f(){var e=s(["\n    mutation updateNote($data: UpdateNoteInput!, $id: String!) {\n  updateNote(data: $data, id: $id) {\n    id\n    title\n    body\n    date\n  }\n}\n    "]);return f=function(){return e},e}function m(){var e=s(["\n    mutation writeNote($title: String!, $body: String!) {\n  writeNote(title: $title, body: $body) {\n    id\n    title\n    body\n  }\n}\n    "]);return m=function(){return e},e}function p(){var e=s(["\n    query getMe {\n  me {\n    id\n    firstName\n    lastName\n    email\n    notes {\n      id\n      title\n      body\n      date\n    }\n  }\n}\n    "]);return p=function(){return e},e}function v(){var e=s(["\n    query noteById($id: String!) {\n  getNote(id: $id) {\n    id\n    body\n    title\n    date\n  }\n}\n    "]);return v=function(){return e},e}var b=(0,r.ZP)(u());function x(){return a.Db(b)}var g=(0,r.ZP)(c());function y(){return a.Db(g)}var h=(0,r.ZP)(l());function w(){return a.Db(h)}var j=(0,r.ZP)(d());function N(){return a.Db(j)}var P=(0,r.ZP)(f());function O(){return a.Db(P)}var S=(0,r.ZP)(m());function k(){return a.Db(S)}var $=(0,r.ZP)(p());function E(e){var n=void 0===e?{}:e;return a.aM(o({query:$},n))}(0,r.ZP)(v())},4463:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),a=t(3399),i=t(4332),o=t(9008),s=(t(7294),t(5666)),u=t.n(s),c=t(2175),l=t(387),d=t(8090);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(e){return(0,r.jsx)("input",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}({className:"my-1 bg-transparent border-transparent dark:text-foreground focus:border-transparent focus:ring-transparent active:bg-transparent"},e))},p=t(5784);function v(e,n,t,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(){var e,n=(0,l.useRouter)(),t=b((0,d.YA)(),2)[1],i=(e=u().mark((function e(r,a){var i,o,s,c=a.setSubmitting,l=a.setErrors;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t(r);case 3:s=e.sent,(null===(i=s.data)||void 0===i?void 0:i.login)&&(c(!1),n.push("/notes")),(null===(o=s.data)||void 0===o?void 0:o.login)||l({password:"Incorrect email or password"});case 6:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){v(i,r,a,o,s,"next",e)}function s(e){v(i,r,a,o,s,"throw",e)}o(void 0)}))});return(0,r.jsx)(c.J9,{initialValues:{email:"",password:""},onSubmit:i,validate:function(e){var n=e.email,t=e.password,r={};return n?t||(r.password="Please enter your password"):r.email="Please enter your email",r},children:function(e){var n=e.isSubmitting,t=e.isValid;return(0,r.jsx)(c.l0,{children:(0,r.jsxs)(a.E.div,{initial:{x:-500},animate:{x:0},exit:{x:500},className:"flex flex-col dark:bg-background-secondary bg-white shadow-md p-2",children:[(0,r.jsx)(c.gN,{as:m,type:"email",name:"email",placeholder:"email..."}),(0,r.jsx)(c.Bc,{component:p.Z,name:"email"}),(0,r.jsx)(c.gN,{as:m,type:"password",name:"password",placeholder:"password..."}),(0,r.jsx)(c.Bc,{component:p.Z,name:"password"}),(0,r.jsx)(a.E.button,{whileTap:{y:7},type:"submit",disabled:n||!t,className:"p-1 disabled:cursor-wait dark:disabled:hover:text-disabled dark:hover:text-accent hover:text-background dark:text-foreground text-lg ",children:"Login"})]})})}})};function g(e,n,t,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,a)}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(){var e,n=y((0,d.l4)(),2)[1],t=(0,l.useRouter)(),i=(e=u().mark((function e(r,a){var i,o,s=a.setSubmitting,c=a.setErrors;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n({email:r.email,firstName:r.firstName,lastName:r.firstName,password:r.password});case 3:o=e.sent,(null===(i=o.data)||void 0===i?void 0:i.register)?(t.push("/notes"),s(!1)):c({email:"Account already exists, please log in"});case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){g(i,r,a,o,s,"next",e)}function s(e){g(i,r,a,o,s,"throw",e)}o(void 0)}))});return(0,r.jsx)(c.J9,{initialValues:{email:"",firstName:"",lastName:"",password:"",confirmPassword:""},onSubmit:i,validate:function(e){var n={};return e.password!=e.confirmPassword&&(n.confirmPassword="passwords must match"),n},validateOnChange:!0,children:function(e){var n=e.isSubmitting,t=e.isValid;return(0,r.jsx)(c.l0,{children:(0,r.jsxs)(a.E.div,{initial:{x:-500},animate:{x:0},exit:{x:500},className:"flex flex-col dark:bg-background-secondary bg-white shadow-md p-2",children:[(0,r.jsx)(c.gN,{as:m,type:"email",name:"email",placeholder:"email..."}),(0,r.jsx)(c.Bc,{component:p.Z,name:"email"}),(0,r.jsx)(c.gN,{as:m,type:"text",name:"firstName",placeholder:"first name..."}),(0,r.jsx)(c.gN,{as:m,type:"text",name:"lastName",placeholder:"last name..."}),(0,r.jsx)(c.gN,{as:m,type:"password",name:"password",placeholder:"password..."}),(0,r.jsx)(c.gN,{as:m,type:"password",name:"confirmPassword",placeholder:"confirm password..."}),(0,r.jsx)(c.Bc,{name:"confirmPassword",component:p.Z}),(0,r.jsx)(a.E.button,{whileTap:{y:7},type:"submit",disabled:n||!t,className:"p-1 disabled:cursor-wait dark:disabled:hover:text-disabled disabled:hover:text-disabled dark:hover:text-accent hover:text-background dark:text-foreground text-lg ",children:"Register"})]})})}})},w={hidden:{x:-500},enter:{x:0,y:0},exit:{x:500}},j=function(){return(0,r.jsxs)(a.E.div,{initial:"hidden",animate:"enter",exit:"exit",variants:w,className:"h-screen",children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"Login or Sign Up"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"text-center dark:text-foreground pt-16",children:[(0,r.jsx)("h1",{className:"text-4xl",children:"Welcome to TypeNotes"}),(0,r.jsx)("h2",{className:"text-lg my-4",children:"Register or Login to begin!"})]}),(0,r.jsx)(i.M,{children:(0,r.jsxs)("div",{className:"flex flex-row justify-center gap-12 py-8",children:[(0,r.jsx)(x,{}),(0,r.jsx)(h,{})]})})]})}}},function(e){e.O(0,[874,338,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);