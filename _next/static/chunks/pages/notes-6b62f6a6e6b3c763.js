(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{8887:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes",function(){return t(1094)}])},5784:function(e,n,t){"use strict";var r=t(5893),i=t(7516);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){return(0,r.jsxs)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({className:"flex text-orange text-center justify-center"},e,{children:[(0,r.jsx)(i.Cw1,{size:"20",className:"mr-1"}),e.children]}))}},8090:function(e,n,t){"use strict";t.d(n,{Pq:function(){return h},YA:function(){return p},_y:function(){return w},l4:function(){return N},wu:function(){return k},u2:function(){return O},iS:function(){return E}});var r=t(1230),i=t(2432);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}function u(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function c(){var e=u(["\n    mutation deleteNote($id: String!) {\n  deleteNote(id: $id) {\n    message\n  }\n}\n    "]);return c=function(){return e},e}function l(){var e=u(["\n    mutation login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return l=function(){return e},e}function s(){var e=u(["\n    mutation logout {\n  logout\n}\n    "]);return s=function(){return e},e}function d(){var e=u(["\n    mutation register($email: String!, $firstName: String!, $lastName: String!, $password: String!) {\n  register(\n    email: $email\n    firstName: $firstName\n    lastName: $lastName\n    password: $password\n  ) {\n    id\n    firstName\n    lastName\n    email\n  }\n}\n    "]);return d=function(){return e},e}function f(){var e=u(["\n    mutation updateNote($data: UpdateNoteInput!, $id: String!) {\n  updateNote(data: $data, id: $id) {\n    id\n    title\n    body\n    date\n  }\n}\n    "]);return f=function(){return e},e}function v(){var e=u(["\n    mutation writeNote($title: String!, $body: String!) {\n  writeNote(title: $title, body: $body) {\n    id\n    title\n    body\n  }\n}\n    "]);return v=function(){return e},e}function x(){var e=u(["\n    query getMe {\n  me {\n    id\n    firstName\n    lastName\n    email\n    notes {\n      id\n      title\n      body\n      date\n    }\n  }\n}\n    "]);return x=function(){return e},e}function m(){var e=u(["\n    query noteById($id: String!) {\n  getNote(id: $id) {\n    id\n    body\n    title\n    date\n  }\n}\n    "]);return m=function(){return e},e}var b=(0,r.ZP)(c());function h(){return i.Db(b)}var y=(0,r.ZP)(l());function p(){return i.Db(y)}var g=(0,r.ZP)(s());function w(){return i.Db(g)}var j=(0,r.ZP)(d());function N(){return i.Db(j)}var P=(0,r.ZP)(f());function k(){return i.Db(P)}var S=(0,r.ZP)(v());function O(){return i.Db(S)}var $=(0,r.ZP)(x());function E(e){var n=void 0===e?{}:e;return i.aM(a({query:$},n))}(0,r.ZP)(m())},1094:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(5666),i=t.n(r),o=t(5893),a=t(2175),u=(t(7294),t(9583)),c=t(8090);function l(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,i)}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e){var n,t=e.noteId,r=e.refetch,a=e.reset,d=s((0,c.Pq)(),2)[1],f=(n=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({id:t});case 2:r(),a();case 4:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)}))});return(0,o.jsx)("button",{onClick:f,type:"reset",className:"p-3 hover:text-orange text-foreground hover:bg-selection active:scale-125 active:shadow-lg",children:(0,o.jsx)(u.Xm5,{})})},f=t(9603);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}var m=Object.assign((function(e){return(0,o.jsx)("div",x({className:"flex flex-col h-screen flex-grow bg-white dark:bg-background min-w-0 mb-10 mx-4 lg:mx-12 border-l border-t dark:border-background-secondary shadow-lg"},e,{children:e.children}))}),{Textarea:function(e){return(0,o.jsx)("textarea",x({className:"flex bg-transparent border-transparent dark:text-foreground focus:border-transparent focus:ring-transparent w-full h-full resize-none px-6 py-4",placeholder:"Start writing your note..."},e))},Title:function(e){return(0,o.jsx)("input",x({type:"text",className:"flex flex-grow bg-transparent overflow-ellipsis text-center text-3xl border-none focus:ring-transparent dark:text-foreground",placeholder:"Title"},e))},Save:function(e){return(0,o.jsx)(f.Z.Rounded,x({},e,{children:(0,o.jsx)(u.TvB,{size:"24"})}))},ListItem:function(e){return(0,o.jsx)("div",x({className:"flex flex-grow text-center dark:text-foreground bg-transparent hover:bg-selection cursor-pointer py-3 px-1 border-t dark:border-active w-full active:scale-110 active:shadow-md"},e,{children:e.children}))},SidePanel:function(e){return(0,o.jsxs)("div",x({className:"flex flex-col sm:w-1/4 bg-white dark:bg-background items-center border-t dark:border-foreground/20 shadow-md p-3"},e,{children:[(0,o.jsx)("h2",{className:"dark:text-foreground my-2 text-xl py-0.5",children:"Saved Notes"}),e.children]}))},New:function(e){return(0,o.jsx)(f.Z.Rounded,x({},e,{children:(0,o.jsx)(u.wEH,{size:"24"})}))}}),b=t(387),h=t(6893);function y(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,i)}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=function(){var e,n=(0,b.useRouter)(),t=p((0,c._y)(),2),r=t[0].fetching,a=t[1],u=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n.push("/");case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){y(o,r,i,a,u,"next",e)}function u(e){y(o,r,i,a,u,"throw",e)}a(void 0)}))});return(0,o.jsx)("div",{className:"absolute top-0 right-0",children:(0,o.jsx)(f.Z.Rounded,{onClick:u,disabled:r,children:(0,o.jsx)(h.xqh,{size:"22"})})})},w=t(5784),j=t(9008),N=t(3399);function P(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,i)}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S={hidden:{x:500},enter:{x:0,y:0},exit:{x:-500}};function O(){var e,n,t=k((0,c.iS)({requestPolicy:"cache-and-network"}),2),r=t[0].data,u=t[1],l=k((0,c.u2)(),2)[1],s=k((0,c.wu)(),2)[1],f=(n=i().mark((function e(n,t){var r,o=t.setSubmitting,a=t.setValues;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=7;break}return e.next=3,l(n);case 3:(r=e.sent.data)&&a({id:r.writeNote.id,title:r.writeNote.title,body:r.writeNote.body}),e.next=9;break;case 7:return e.next=9,s({data:{body:n.body,title:n.title},id:n.id});case 9:o(!1);case 10:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){P(o,r,i,a,u,"next",e)}function u(e){P(o,r,i,a,u,"throw",e)}a(void 0)}))});return(0,o.jsxs)(N.E.main,{variants:S,initial:"hidden",animate:"enter",exit:"exit",children:[(0,o.jsxs)(j.default,{children:[(0,o.jsx)("title",{children:"My Notes"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("h1",{className:"dark:text-foreground text-center py-8 text-4xl",children:[null===r||void 0===r||null===(e=r.me)||void 0===e?void 0:e.firstName,"'s Notes"]}),(0,o.jsx)(g,{}),(0,o.jsx)(a.J9,{initialValues:{title:"",body:"",id:""},onSubmit:f,validate:function(e){var n={};return e.title?e.body||(n.body="Enter some text in the note"):n.title="Please enter a title for your note",n},children:function(e){var n,t=e.isSubmitting,i=e.setValues,c=e.resetForm,l=e.isValid;return(0,o.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row h-full",children:[(0,o.jsx)(m.SidePanel,{children:null===r||void 0===r||null===(n=r.me)||void 0===n?void 0:n.notes.map((function(e,n){return(0,o.jsxs)("div",{className:"flex w-full",children:[(0,o.jsx)(m.ListItem,{onClick:function(){i({id:e.id,title:e.title,body:e.body})},children:e.title},e.id),(0,o.jsx)(d,{noteId:e.id,refetch:u,reset:c},n)]},n)}))}),(0,o.jsx)(m,{children:(0,o.jsxs)(a.l0,{className:"flex flex-col h-full",children:[(0,o.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,o.jsx)(m.New,{type:"reset"}),(0,o.jsx)("div",{className:"flex flex-grow justify-end",children:(0,o.jsx)(m.Save,{type:"submit",disabled:t||!l})})]}),(0,o.jsxs)("div",{className:"flex flex-col justify-center h-full",children:[(0,o.jsx)(a.Bc,{name:"title",component:w.Z}),(0,o.jsx)(a.Bc,{name:"body",component:w.Z}),(0,o.jsx)(a.gN,{as:m.Title,name:"title"}),(0,o.jsx)(a.gN,{as:m.Textarea,name:"body"})]})]})})]})}}),(0,o.jsx)("div",{className:"h-8 mt-2.5 text-center dark:text-foreground",children:"Hunter Barton, 2021"})]})}}},function(e){e.O(0,[874,338,893,774,888,179],(function(){return n=8887,e(e.s=n);var n}));var n=e.O();_N_E=n}]);